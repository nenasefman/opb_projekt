<style>
    body {
        background-color: #fff4e6; /* nežno oranžno ozadje */
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .card {
        border: 1px solid #ffcc99; /* svetlo oranžen rob */
        box-shadow: 0 2px 10px rgba(255, 123, 0, 0.1); /* nežna oranžna senca */
    }
    .text-orange-custom {
        color: #ff7b00; /* oranžna barva za naslove */
    }
    .btn-custom-primary {
        background-color: #ff7b00;
        border: none;
    }
    .btn-custom-primary:hover {
        background-color: #e66a00;
    }
    .btn-custom-secondary {
        background-color: #ffa64d;
        border: none;
    }
    .btn-custom-secondary:hover {
        background-color: #ff8c1a;
    }
</style>

<div class="container mx-auto py-8">
    <h2 class="text-4xl font-extrabold text-gray-900 mb-6 text-center text-orange-custom">Dobrodošlo, {{ username }}!</h2>

    <h3 class="text-3xl font-bold text-gray-800 mb-6 text-center">Objavljena pripravništva</h3>
    <div class="text-center mb-6">
        <a href="/pripravnistvo/dodaj" class="inline-block btn-custom-primary hover:btn-custom-primary-dark text-white px-6 py-3 rounded-md shadow-lg transition-colors duration-200">
            Dodaj novo pripravništvo
        </a>
    </div>

    % if objavljena_pripravnistva:
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            % for p in objavljena_pripravnistva:
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200 card">
                    <h4 class="text-xl font-semibold text-gray-800 mb-2">{{ p.delovno_mesto }}</h4>
                    <p class="text-gray-600 mb-1"><strong>Lokacija:</strong> {{ p.kraj }}, {{ p.drzava }}</p>
                    <p class="text-gray-600 mb-1"><strong>Trajanje:</strong> {{ p.trajanje }} mesecev</p>
                    <p class="text-gray-600 mb-1"><strong>Plačilo:</strong> {{ p.placilo }} €</p>
                    <p class="text-gray-600 mb-1"><strong>Prostih mest:</strong> {{ p.stevilo_mest }}</p>
                    <div class="flex space-x-2 mt-4">
                        <a href="/pripravnistvo/{{ p.id }}"
                           class="flex-1 btn-custom-secondary hover:btn-custom-secondary-dark text-white px-4 py-2 rounded-md text-center transition-colors duration-200 shadow-sm text-sm">
                            Podrobnosti
                        </a>
                        <a href="/pripravnistvo/uredi/{{ p.id }}"
                           class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-md text-center transition-colors duration-200 shadow-sm text-sm">
                            Uredi
                        </a>
                        <a href="/pripravnistvo/izbrisi/{{ p.id }}"
                           onclick="return confirm('Ali ste prepričani, da želite izbrisati to pripravništvo?')"
                           class="flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-center transition-colors duration-200 shadow-sm text-sm">
                            Izbriši
                        </a>
                    </div>
                </div>
            % end
        </div>
    % else:
        <p class="text-center text-gray-600 text-lg mb-12">Trenutno nimaš objavljenih pripravništev.</p>
    % endif

    <h3 class="text-3xl font-bold text-gray-800 mb-6 text-center">Prejete prijave na tvoja pripravništva</h3>

    % if prijave:
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            % for p in prijave:
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200 card">
                    <h4 class="text-xl font-semibold text-gray-800 mb-2">Delovno mesto: {{ p.pripravnistvo }}</h4>
                    <p class="text-gray-600 mb-1"><strong>Študent:</strong> {{ p.student }}</p>
                    <p class="text-gray-600 mb-1"><strong>Podjetje:</strong> {{ p.podjetje }}</p>
                    <p class="text-gray-600 mb-1"><strong>Datum prijave:</strong> {{ p.datum_prijave.strftime('%d.%m.%Y') }}</p>
                    <p class="text-gray-600 mb-1"><strong>Status:</strong> <span class="font-bold {{ 'text-yellow-600' if p.status == 'v obravnavi' else ('text-green-600' if p.status == 'odobrena' else 'text-red-600') }}">{{ p.status }}</span></p>
                    
                    <div class="mt-4 flex flex-col space-y-2">
                        <a href="/student/profil/{{ p.student_username }}"
                           class="btn-custom-secondary hover:btn-custom-secondary-dark text-white px-4 py-2 rounded-md shadow-sm text-sm text-center">
                            Oglej si profil študenta
                        </a>
                        <form action="/prijava/posodobi/{{ p.id }}" method="post" class="flex space-x-2 items-center">
                            <label for="status_{{ p.id }}" class="text-sm font-medium text-gray-700 sr-only">Spremeni status</label>
                            <select id="status_{{ p.id }}" name="status"
                                    class="flex-grow px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm">
                                <option value="v obravnavi" {{ 'selected' if p.status == 'v obravnavi' else '' }}>V obravnavi</option>
                                <option value="odobrena" {{ 'selected' if p.status == 'odobrena' else '' }}>Odobrena</option>
                                <option value="zavrnjena" {{ 'selected' if p.status == 'zavrnjena' else '' }}>Zavrnjena</option>
                            </select>
                            <button type="submit"
                                    class="btn-custom-primary hover:btn-custom-primary-dark text-white px-4 py-2 rounded-md shadow-sm text-sm">
                                Posodobi
                            </button>
                        </form>
                    </div>
                </div>
            % end
        </div>
    % else:
        <p class="text-center text-gray-600 text-lg">Trenutno ni prejetih prijav na tvoja pripravništva.</p>
    % endif
</div>
